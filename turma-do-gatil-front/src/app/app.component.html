<!-- Header - Escondido na pÃ¡gina de login -->
<div *ngIf="!isLoginPage()">
<div class="header">
  <div class="header-left">
    <p-button 
      icon="pi pi-bars" 
      [text]="true" 
      (onClick)="toggleSidebar()"
      class="menu-button">
    </p-button>
    <div class="brand-section">
      <img 
        src="https://www.turmadogatil.com.br/wp-content/themes/website/assets/images/turma-do-gatil-colorido.webp" 
        alt="Turma do Gatil" 
        class="logo">
      <h2 class="app-title">Turma do Gatil</h2>
    </div>
  </div>
  
  <div class="header-right">
    @if (currentUser) {
    <div class="user-info">
      <span class="user-name">{{ currentUser.name }}</span>
      <p-avatar 
        [label]="getUserInitials()" 
        shape="circle" 
        class="user-avatar"
        [pTooltip]="currentUser.name"
        tooltipPosition="bottom">
      </p-avatar>
    </div>
    }
    <p-button 
      icon="pi pi-sign-out" 
      [text]="true" 
      (onClick)="logout()"
      pTooltip="Sair"
      tooltipPosition="bottom"
      class="logout-button"
      severity="danger">
    </p-button>
  </div>
</div>

<!-- Sidebar Menu - Escondido na pÃ¡gina de login -->
<div class="sidebar-overlay" [class.visible]="sidebarVisible()" (click)="toggleSidebar()"></div>
<div class="sidebar" [class.visible]="sidebarVisible()">
  <div class="sidebar-header">
    <h3>Menu</h3>
    <p-button 
      icon="pi pi-times" 
      [text]="true" 
      (onClick)="toggleSidebar()"
      class="close-button">
    </p-button>
  </div>
  
  <div class="sidebar-content">
    <ul class="menu-list">
      @for (item of menuItems; track item.label) {
      <li class="menu-item">
        <a [routerLink]="item.routerLink" 
           class="menu-link" 
           [class.active]="isMenuItemActive(item.routerLink)"
           (click)="toggleSidebar()">
          <i [class]="item.icon"></i>
          <span>{{ item.label }}</span>
        </a>
      </li>
      }
    </ul>
  </div>
</div>
</div>

<!-- Main Content -->
<div class="main-content" [class.sidebar-open]="sidebarVisible()" [class.login-page]="isLoginPage()">
  <div class="content-wrapper" [class.login-wrapper]="isLoginPage()">
    <router-outlet></router-outlet>
  </div>
</div>

<!-- Footer - Escondido na pÃ¡gina de login -->
<div *ngIf="!isLoginPage()">
<footer class="footer">
  Desenvolvido por&nbsp;<a href="https://www.linkedin.com/in/guilherme-mendes-rosa/" target="_blank">Guilherme</a>&nbsp;ðŸŒ¹
</footer>
</div>

<!-- Toast Global para notificaÃ§Ãµes -->
<p-toast position="top-right" [style]="{'z-index': '9999'}"></p-toast>
