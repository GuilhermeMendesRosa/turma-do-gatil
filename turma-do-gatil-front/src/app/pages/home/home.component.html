<div class="page-container">
  <div class="header">
    <h1><i class="pi pi-chart-bar"></i> Dashboard</h1>
    <button class="refresh-btn" (click)="refreshData()" [disabled]="loading" title="Atualizar dados">
      <i class="pi" [class.pi-refresh]="!loading" [class.pi-spin]="loading" [class.pi-spinner]="loading"></i>
    </button>
  </div>

  <p>Bem-vindo ao sistema de gerenciamento da Turma do Gatil!</p>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <i class="pi pi-spinner pi-spin"></i>
    <span>Carregando dados...</span>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="error-container">
    <i class="pi pi-exclamation-triangle"></i>
    <span>{{ error }}</span>
    <button class="retry-btn" (click)="refreshData()">
      <i class="pi pi-refresh"></i>
      Tentar novamente
    </button>
  </div>

  <!-- Dashboard Content -->
  <div *ngIf="dashboardData && !loading" class="dashboard-content">
    <!-- Summary Cards -->
    <div class="dashboard-grid">
      <div class="dashboard-card">
        <div class="card-header">
          <i class="pi pi-heart"></i>
          <h3>Gatos</h3>
        </div>
        <div class="card-content">
          <div class="metric">
            <span class="number">{{ dashboardData.availableCatsCount }}</span>
            <span class="label">Disponíveis para adoção</span>
          </div>
        </div>
      </div>

      <div class="dashboard-card">
        <div class="card-header">
          <i class="pi pi-briefcase"></i>
          <h3>Castrações</h3>
        </div>
        <div class="card-content">
          <div class="metric">
            <span class="number">{{ dashboardData.pendingSterilizationsCount }}</span>
            <span class="label">Agendadas</span>
          </div>
        </div>
      </div>

      <div class="dashboard-card">
        <div class="card-header">
          <i class="pi pi-users"></i>
          <h3>Adotantes</h3>
        </div>
        <div class="card-content">
          <div class="metric">
            <span class="number">{{ dashboardData.registeredAdoptersCount }}</span>
            <span class="label">Cadastrados</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>